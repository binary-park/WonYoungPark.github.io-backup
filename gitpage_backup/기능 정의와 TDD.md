### 기능 정의와 TDD

- 정의를 구체적으로 정의를 한다면, 단서 조항이 붙는다(예 어떤 상황일때 어떤 요청을 하면 어떤 결과를 반환한다.)
- 상황에 따라서 시스템이 어떻게 동작한다.
- 상황에 맞게 사용자 요청을 알맞게 처리 해야 한다.
- 기능 명세 -> 명세에 맞게 기능 구현(구현을 진행하면서 명세를 진행)
- 테스트 주도 개발(정의)
  - 테스트를 먼저 만들고
  - 테스트를 통과하는 구현을 작성
    - 테스트 코드부터 시작
    - 테스트 없이 제품 코드 작성하지 않음
  - 테스트를 통과할 만큼의 코드만 작성
    - 불필요한 코드 작성 최소화
    - 과도한 설계 방지
- 테스트코드 기능 명세
  - 테스트 코드는 무엇을 만들지에 초점
    - 구현을 먼저하지 않음
  - 다양한 경우에 대한 테스트를 점진적으로 추가
    - 다양한 경우 -> 곧 예제 기반 명세
  - 테스트코드를 통과시키는 과정에서 구현이 완성
- 한번에 구현하는것이 TDD가 아니고, 각각의 경우의 수를 점진적으로 통과시키기 위한 노력을 하다보면 실제 코드가 자연스럽게 완성된다.

### 테스트 코드의 전형적인 구성

- 구성
  - 상황/조건(Given)
  - 기능 실행(When)
  - 결과(Then)
    - 검증, 확인

### TDD 협업 대상 도출

테스트코드를 통해서 구현 뿐만 아니라 설계또 유도됨

- 협업객체 도출 -> 설계 (테스트코드를 작성하다보면 협업객체가 도출될 가능성이 큼)
  - 역할 분리
  - 테스트코드가 설계 유도
- 필요한 만큼의 추상화
  - 과하게 추상화하는것을 방지
  - 추상화하지 않은 것도 방지

### 테스트 범위

### TDD 효과

- 자심감
  - 회귀 테스트(테스트 코드 자체가 일종의 예시 이기 때문에 개발자가 나중에 보더라도 코드를 쉽게 파악할 수 잇다.)
- 개발속도
  - 대역으로 격리 개발 가능
  - 다양한 경우를 위한 테스트로 디버깅 유리
- 좋은 설계 가능성(테스트 구조를 작성하면서 자연스럽게 설계과정을 거침)
  - 테스트 가능한 구조를 만드는 시도 -> 알맞은 역할 분리

### TDD 시작과 주의 사항

- 쉬운 경우부터 작성
- 예외적인 경우부터 작성
- 한번에 완변한 코드를 만들기 보다 점진적으로 작성해야 함.
- 어렵거나 정상적인이지 않은 경우부터 시작하면 전직을 못하고 중간에 막히는 상황 발생
- 테스트 코드로 헙업 객체 도출하기
  - 대역으로 테스트 상황(Given) 구성 시도
  - 대역으로 테스트 검증/확인(Then) 시도
- 서비스나 컨트롤러(UI)를 대상으로 통합 테스트 만들어 보기
- 작은 기능으로 TDD 감 잡아보기
- 주의사항
  - 방해꾼 : 이런걸 왜 해? 빨리 개발이나해
    - 귓등으로 듣고, 계속 시도할 것
  - 불안 심리 : 이걸하고 있을 시간이...
    - 결국 개발자는 테스트를 해야함
    - 실제로는 테스트 코드 덕에 개발 시간을 줄일 수 있음
  - 혼자서 잘 못하고 TDD 탓하기 : TDD 헀더니 되려 개발을 못하는거 같아
    - 잘못된 자세로 운동해서 몸 아픈것과 같음
    - 좋은 책, 좋은 개발자가 시키는 대로 하기